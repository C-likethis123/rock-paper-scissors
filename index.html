<!DOCTYPE html>
<html>
<head>
	<title>Rock Paper Scissors</title>
</head>
<body>
	<script language = "javascript">
		const valid_options = ['Rock', 'Paper', 'Scissors'];

		function computerPlay() {
			let randomIndex = Math.floor(Math.random() * 3);
			return valid_options[randomIndex];
		}

		function capitalize(string) {
			return string[0].toUpperCase() + string.substring(1).toLowerCase();
		}

		function playRound(playerSelection, computerSelection) {
			playerSelection = capitalize(playerSelection);
			if (playerSelection == computerSelection) {
				return "tie";
			} else if (playerSelection == "Scissors") {
				return computerSelection == "Paper" 
					? "win"
					: "lose";

			} else if (playerSelection == "Rock") {
				return computerSelection == "Scissors"
					? "win"
					: "lose";

			} else if (playerSelection == "Paper") {
				return computerSelection == "Rock"
					? "win"
					: "lose";
			} else {
				console.log("You entered an invalid value!");
			}
		}

		function getOutput(playerSelection, computerSelection, outcome) {
			if (outcome == "tie") {
				return "It's a tie! Both chose " + playerSelection;
			} else if (outcome == "win") {
				return "You win! " + playerSelection + " beats " + computerSelection;
			} else {
				return "You lose! " + playerSelection + " loses to " + computerSelection;
			}
		}

		function game() {
			for (let i = 0; i < 5; i++) {
				let playerSelection = prompt();
				let computerSelection = computerPlay();
				let outcome = playRound(playerSelection, computerSelection);

				console.log(getOutput(playerSelection, computerSelection, outcome));
			}
		}

		game();
	</script>
</body>
</html>